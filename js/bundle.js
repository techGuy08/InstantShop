(()=>{"use strict";const t=document.querySelector(".btn-cart"),e=document.querySelector(".products-grid"),n=document.querySelector("#cartList"),c=document.querySelector(".cartList-total"),r=document.querySelector(".btn-checkout"),a=[];for(let t=0;t<10;t++)a.push({id:t,img:"https://loremflickr.com/320/24"+t+"/cat,animal",name:"Lorem ipsum dolor sit amet "+(t+1),price:29+Math.floor(50*Math.random())*t});let i=[];function s(){const t=i.reduce(((t,e)=>t+e.total),0);return c.innerHTML=t,t}a.forEach(((c,r)=>{e.insertAdjacentHTML("beforeend",function(t){return`<div class="card w-100" style="width: 18rem;" id="product-${t.id}">\n                    <img src="${t.img}" class="card-img-top" alt="${t.name}">\n                    <div class="card-body">\n                      <h5 class="card-title">${t.name}</h5>\n                      <p class="card-text">${t.price}$</p>\n                      <buttton class="btn btn-dark addtocart">Add to Cart</button>\n                    </div>\n                  </div>`}(c)),e.querySelector(".card:last-child").querySelector(".addtocart").addEventListener("click",(()=>{!function(e){if(-1!==i.findIndex((t=>t.id===e.id)))alert("this Item is already in the cart");else{i.push(Object.assign({amount:1,total:e.price},e)),s();const c=`  <div class="row cartList-item">\n            <div class="col-4">\n              <img\n                class="product-img"\n                src="${e.img}"\n                alt="${e.name}"\n              />\n            </div>\n            <div class="col-8">\n              <h3 class="product-name">${e.name}</h3>\n              <div class="input-group row mb-3 align-items-center">\n                <label class="col-2">Qte:</label>\n                <input\n                  type="number"\n                  class="form-control col-3 product-qte"\n                  aria-describedby="basic-addon1"\n                  value="1"\n                  min="1"\n                  max="100"\n                />\n                <p class="col-5 m-0">\n                  Price: <span class="product-price">${e.price}</span>$\n                </p>\n                <button class="btn btn-outline-danger btn-remove">\n                  <i class="fa fa-trash-o" aria-hidden="true"></i>\n                </button>\n              </div>\n            </div>\n          </div>`;n.querySelector(".cartItems").insertAdjacentHTML("beforeend",c);const r=n.querySelector(".cartList-item:last-child"),a=r.querySelector(".product-qte"),o=r.querySelector(".btn-remove"),l=r.querySelector(".product-price");a.addEventListener("change",(function(t){const n=parseInt(t.target.value),c=i.findIndex((t=>t.id===e.id));i[c].amount=n,i[c].total=n*i[c].price,l.innerHTML=i[c].total,s()})),o.addEventListener("click",(function(n){i=i.filter((t=>t.id!==e.id)),r.remove(),0===i.length&&t.classList.remove("active"),t.setAttribute("data-count",i.length),s()}))}const c=i.length?i.length:"";t.setAttribute("data-count",c),""!==c?t.classList.add("active"):t.classList.remove("active")}(a[r])}))})),t.addEventListener("click",(function(){n.classList.add("active")})),r.addEventListener("click",(function(){if(i.length){const e=s();i=[],n.querySelector(".cartItems").innerHTML="",t.classList.remove("active"),alert("Thanks for your purchase.\n you have paid "+e+"$.\n Have nice day!"),s()}else alert("No items in the cart")})),n.querySelectorAll(".bg,.btn-closeCart").forEach((t=>{t.addEventListener("click",(function(t){n.classList.remove("active")}))}))})();